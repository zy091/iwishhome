import{d as N,r as t,H as b,o as S,c as k,w as n,s as B,M as C,b as i,a as p,e as m,t as I,g as D,N as M,i as A,j as R}from"./index-w0Vcq8R-.js";import{D as V}from"./DynamicForm-DxTcENiU.js";import"./testResultService-29AeuPH3.js";const j={class:"subtitle"},T=N({__name:"ComprehensiveTest",setup(E){var r,c,l,u;const s=t([]),o=b(),_=A(),d=t(((r=o.query.testId)==null?void 0:r.toString())||"comprehensive-test"),g=t(((c=o.query.testName)==null?void 0:c.toString())||"未命名测试"),f=t((l=o.query.platform)==null?void 0:l.toString()),h=t((u=o.query.chapter)==null?void 0:u.toString()),v=()=>{_.back()},y=async()=>{const{data:a,error:e}=await B.rpc("get_comprehensive_questions",{p_platform:f.value,p_chapter:h.value});e?C.error(`获取问题时出错:${e}, 请检查网络连接或联系管理员`):(s.value=a,console.log(s.value))};S(()=>{y()});const q=async a=>{console.log("用户答案:",a.answers)};return(a,e)=>{const w=i("el-page-header"),x=i("el-card");return R(),k(x,{style:{"min-height":"400px","margin-top":"30px",padding:"0 20px"}},{default:n(()=>[p(w,{onBack:v,icon:D(M)},{content:n(()=>e[0]||(e[0]=[m("span",{class:"text-large font-600 mr-3"}," 综合测验 ",-1)])),default:n(()=>[m("div",j,"共"+I(s.value.length)+"道题目，包含选择题和案例分析题，满分100分。",1)]),_:1},8,["icon"]),p(V,{questions:s.value,testId:d.value,testName:g.value,type:"comprehensive",onSubmitAnswers:q},null,8,["questions","testId","testName"])]),_:1})}}});export{T as default};
