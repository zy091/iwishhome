import{x as w,r as B,c as E,j as P,y as u,A as c,G as g,J as m,ag as p,u as f,H as _,L as b,M as L,P as h,aA as F,z as l}from"./vendor-CcmhhHhJ.js";import{E as r,m as x,f as R}from"./elementPlus-Be5V1zcU.js";import{b as v}from"./index-CRpNH5Xm.js";import"./supabase-fOlwtt9p.js";const V={class:"pdf-viewer-container"},j={class:"viewer-header"},z={class:"header-left"},N={class:"file-title"},I={class:"header-right"},M={class:"pdf-content"},W=["src"],A={key:0,class:"loading-overlay"},O=w({__name:"PDFDocumentViewer",props:{documentUrl:{},title:{default:"PDF文档查看器"},showBackButton:{type:Boolean,default:!0}},setup(d){const o=d,i=F(),a=B(!0),k=E(()=>`https://docs.google.com/gview?url=${encodeURIComponent(o.documentUrl)}&embedded=true`),y=()=>{a.value=!1,r.success("PDF文档加载成功")},U=()=>{a.value=!1,r.error("PDF文档加载失败，请检查网络连接或文档链接")},C=async()=>{try{const t=await fetch(o.documentUrl);if(t.ok){const e=await t.blob(),n=window.URL.createObjectURL(e),s=document.createElement("a");s.href=n,s.download=o.title+".pdf",document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(n),r.success("文档下载成功")}else throw new Error("下载失败")}catch(t){console.error("Fetch下载失败:",t);try{const e=document.createElement("a");e.href=o.documentUrl,e.download=o.title+".pdf",e.target="_blank",document.body.appendChild(e),e.click(),document.body.removeChild(e),r.success("开始下载文档")}catch(e){console.error("链接下载失败:",e);try{window.open(o.documentUrl,"_blank"),r.info("已在新窗口中打开文档，请手动保存")}catch(n){console.error("打开新窗口失败:",n),r.error("下载失败，请检查网络连接或文档链接")}}}},D=()=>{i.go(-1)};return P(()=>{setTimeout(()=>{a.value&&(a.value=!1,r.warning("PDF文档加载超时，请检查网络连接"))},1e4)}),(t,e)=>{const n=p("el-button"),s=p("el-loading");return l(),u("div",V,[c("div",j,[c("div",z,[t.showBackButton?(l(),g(n,{key:0,onClick:D,icon:f(x)},{default:_(()=>e[0]||(e[0]=[b("返回")])),_:1},8,["icon"])):m("",!0),c("span",N,L(t.title),1)]),c("div",I,[h(n,{type:"success",onClick:C,icon:f(R)},{default:_(()=>e[1]||(e[1]=[b(" 下载文档 ")])),_:1},8,["icon"])])]),c("div",M,[c("iframe",{src:k.value,class:"pdf-iframe",frameborder:"0",onLoad:y,onError:U},null,40,W),a.value?(l(),u("div",A,[h(s,{"element-loading-text":"正在加载PDF文档...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"})])):m("",!0)])])}}}),T=v(O,[["__scopeId","data-v-576d0580"]]),$="https://oziqjzzrouoclocfgoub.supabase.co/storage/v1/object/public/documents/word-files/2025Website-layout-training_compressed%20(1).pdf",q="2025网站布局培训",G=w({__name:"WebsiteLayout",setup(d){return(o,i)=>(l(),g(T,{"document-url":$,title:q,"show-back-button":!1}))}}),Q=v(G,[["__scopeId","data-v-6c157c5f"]]);export{Q as default};
